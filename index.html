<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíï ‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏ö‡∏£‡∏≠‡∏ö üíï</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>üíï Happy Anniversary üíï</h1>
        <div class="date">üéä 5 ‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô 2025 üéä</div>
        
        <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏±‡∏ö‡∏ß‡∏±‡∏ô -->
        <div class="counter">
            <div class="counter-item">
                <div class="counter-number" id="days">0</div>
                <div class="counter-label">‡∏ß‡∏±‡∏ô</div>
            </div>
            <div class="counter-item">
                <div class="counter-number" id="hours">0</div>
                <div class="counter-label">‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</div>
            </div>
            <div class="counter-item">
                <div class="counter-number" id="minutes">0</div>
                <div class="counter-label">‡∏ô‡∏≤‡∏ó‡∏µ</div>
            </div>
        </div>

        <!-- ‡πÅ‡∏Å‡∏•‡πÄ‡∏•‡∏≠‡∏£‡∏µ‡πà‡∏£‡∏π‡∏õ -->
        <div class="gallery-container">
            <button class="gallery-arrow left" onclick="changeSlide(-1)">‚ùÆ</button>
            <button class="gallery-arrow right" onclick="changeSlide(1)">‚ùØ</button>
            
            <div class="gallery-wrapper" id="galleryWrapper">
                <!-- JavaScript ‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏π‡∏õ‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ -->
            </div>

            <div class="gallery-nav" id="galleryNav"></div>
        </div>

        <!-- ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° -->
        <div class="message">
            <p>‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á‡∏Ç‡πâ‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏ï‡∏•‡∏≠‡∏î üíñ</p>
            <p>‡∏Ñ‡∏£‡∏ö 1 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏ô‡∏∞ üåπ</p>
            <p>‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡πÑ‡∏õ‡∏ô‡∏≤‡∏ô‡πÜ‡∏ô‡∏∞ üíë</p>
        </div>

        <!-- ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á‡∏™‡∏ß‡∏¢‡πÜ -->
        <div class="music-player">
            <div class="album-art paused" id="albumArt"></div>
            <div class="song-title">‡∏õ‡∏µ‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏´‡∏á‡∏≤‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡πÇ‡∏ß‡πâ‡∏¢</div>
            <div class="song-artist">No One Else</div>
            
            <div class="time-display">
                <span id="currentTime">0:00</span>
                <span id="duration">3:36</span>
            </div>
            
            <div class="progress-container" id="progressContainer">
                <div class="progress-bar" id="progressBar"></div>
            </div>

            <div class="player-controls">
                <button class="control-btn" onclick="seekBackward()">‚è™</button>
                <button class="control-btn play-btn" id="playBtn" onclick="togglePlay()">‚ñ∂</button>
                <button class="control-btn" onclick="seekForward()">‚è©</button>
            </div>

            <audio id="bgMusic" autoplay loop>
                <source src="music.mp3" type="audio/mpeg">
            </audio>
        </div>
    </div>

    <script>
        // ========== ‡πÅ‡∏Å‡∏•‡πÄ‡∏•‡∏≠‡∏£‡∏µ‡πà‡∏£‡∏π‡∏õ ==========
        let currentSlide = 0;
        const galleryWrapper = document.getElementById('galleryWrapper');

        // ‚≠ê ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏π‡∏õ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
        const totalImages = 43; // ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏π‡∏õ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà‡∏°‡∏µ)

        for (let i = 1; i <= totalImages; i++) {
            const galleryItem = document.createElement('div');
            galleryItem.className = 'gallery-item';
            
            const img = document.createElement('img');
            img.src = `./picture/p${i}.jpg`;
            img.alt = `‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà ${i}`;

            img.loading = "lazy";
            
            galleryItem.appendChild(img);
            galleryWrapper.appendChild(galleryItem);
        }

        // ‡∏î‡∏∂‡∏á slides ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à
        const slides = document.querySelectorAll('.gallery-item');
        const totalSlides = slides.length;
        const galleryNav = document.getElementById('galleryNav');

        // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏à‡∏∏‡∏î‡∏ô‡∏≥‡∏ó‡∏≤‡∏á
        for (let i = 0; i < totalSlides; i++) {
            const dot = document.createElement('div');
            dot.className = 'gallery-dot';
            if (i === 0) dot.classList.add('active');
            dot.onclick = () => goToSlide(i);
            galleryNav.appendChild(dot);
        }

        function updateGallery() {
            galleryWrapper.style.transform = `translateX(-${currentSlide * 100}%)`;
            
            document.querySelectorAll('.gallery-dot').forEach((dot, index) => {
                dot.classList.toggle('active', index === currentSlide);
            });
        }

        function changeSlide(direction) {
            currentSlide += direction;
            if (currentSlide < 0) currentSlide = totalSlides - 1;
            if (currentSlide >= totalSlides) currentSlide = 0;
            updateGallery();
        }

        function goToSlide(index) {
            currentSlide = index;
            updateGallery();
        }

        // ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏±‡∏î‡∏ô‡∏¥‡πâ‡∏ß
        let touchStartX = 0;
        let touchEndX = 0;

        galleryWrapper.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
        });

        galleryWrapper.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        // ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏Å‡πÄ‡∏°‡∏≤‡∏™‡πå
        let mouseStartX = 0;
        let mouseEndX = 0;
        let isDragging = false;

        galleryWrapper.addEventListener('mousedown', (e) => {
            isDragging = true;
            mouseStartX = e.screenX;
        });

        galleryWrapper.addEventListener('mouseup', (e) => {
            if (!isDragging) return;
            isDragging = false;
            mouseEndX = e.screenX;
            handleSwipe();
        });

        galleryWrapper.addEventListener('mouseleave', () => {
            isDragging = false;
        });

        function handleSwipe() {
            const diffX = (touchStartX || mouseStartX) - (touchEndX || mouseEndX);
            if (Math.abs(diffX) > 50) {
                if (diffX > 0) {
                    changeSlide(1);
                } else {
                    changeSlide(-1);
                }
            }
        }

        // ========== ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á ==========
        const music = document.getElementById('bgMusic');
        const playBtn = document.getElementById('playBtn');
        const albumArt = document.getElementById('albumArt');
        const progressBar = document.getElementById('progressBar');
        const progressContainer = document.getElementById('progressContainer');
        const currentTimeEl = document.getElementById('currentTime');
        const durationEl = document.getElementById('duration');

        let isPlaying = false;

        function togglePlay() {
            if (isPlaying) {
                music.pause();
                playBtn.textContent = '‚ñ∂';
                albumArt.classList.remove('playing');
                albumArt.classList.add('paused');
            } else {
                music.play();
                playBtn.textContent = '‚è∏';
                albumArt.classList.remove('paused');
                albumArt.classList.add('playing');
            }
            isPlaying = !isPlaying;
        }

        function seekForward() {
            music.currentTime += 10;
        }

        function seekBackward() {
            music.currentTime -= 10;
        }

        // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡∏∞ progress bar
        music.addEventListener('timeupdate', () => {
            const progress = (music.currentTime / music.duration) * 100;
            progressBar.style.width = progress + '%';
            
            currentTimeEl.textContent = formatTime(music.currentTime);
            durationEl.textContent = formatTime(music.duration);
        });

        // ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà progress bar ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏•‡∏á
        progressContainer.addEventListener('click', (e) => {
            const width = progressContainer.clientWidth;
            const clickX = e.offsetX;
            const duration = music.duration;
            music.currentTime = (clickX / width) * duration;
        });

        music.volume = 0.7;

        function formatTime(seconds) {
            if (isNaN(seconds)) return '0:00';
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
        }

        // ========== ‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏•‡∏≠‡∏¢ ==========
        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = Math.random() * 3 + 3 + 's';
            document.body.appendChild(heart);
            
            setTimeout(() => {
                heart.remove();
            }, 6000);
        }

        setInterval(createHeart, 300);

        // ========== ‡∏ô‡∏±‡∏ö‡∏ß‡∏±‡∏ô ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á ‡∏ô‡∏≤‡∏ó‡∏µ ==========
        function updateCounter() {
            const startDate = new Date('2025-10-05').getTime();
            const now = new Date().getTime();
            const distance = now - startDate;

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));

            document.getElementById('days').textContent = days;
            document.getElementById('hours').textContent = hours;
            document.getElementById('minutes').textContent = minutes;
        }

        updateCounter();
        setInterval(updateCounter, 60000);

        // ========== ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ==========
        window.addEventListener('load', function() {
            const playPromise = music.play();
        
            if (playPromise !== undefined) {
                playPromise.then(() => {
                    // ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÅ‡∏£‡∏Å
                    isPlaying = true;
                    playBtn.textContent = '‚è∏';
                    albumArt.classList.remove('paused');
                    albumArt.classList.add('playing');
                }).catch(error => {
                    // Autoplay ‡∏ñ‡∏π‡∏Å‡∏ö‡∏•‡πá‡∏≠‡∏Å, ‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡πÇ‡∏ï‡πâ‡∏ï‡∏≠‡∏ö‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
                    console.log('Autoplay ‡∏ñ‡∏π‡∏Å‡∏ö‡∏•‡πá‡∏≠‡∏Å ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á');
                    
                    // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡πÇ‡∏ï‡πâ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å
                    const playAfterFirstInteraction = () => {
                        if (!isPlaying) { // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡πÄ‡∏û‡∏•‡∏á‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏•‡πà‡∏ô
                            music.play();
                            isPlaying = true;
                            playBtn.textContent = '‚è∏';
                            albumArt.classList.remove('paused');
                            albumArt.classList.add('playing');
                        }
                    };

                    // 1. ‡∏î‡∏±‡∏Å‡∏ü‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏î‡πÜ ‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡πá‡∏ö (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°)
                    // { once: true } ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏Ñ‡πà‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏¢‡∏∏‡∏î‡∏ü‡∏±‡∏á
                    document.body.addEventListener('click', playAfterFirstInteraction, { once: true });

                    // 2. ‚≠ê ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ: ‡∏î‡∏±‡∏Å‡∏ü‡∏±‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏ï‡∏∞‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡∏•‡πÄ‡∏•‡∏≠‡∏£‡∏µ‡πà‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞
                    // ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£ "‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏õ‡∏±‡∏î" ‡∏£‡∏π‡∏õ‡∏ô‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏ï‡πâ‡∏ï‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢
                    galleryWrapper.addEventListener('touchstart', playAfterFirstInteraction, { once: true });
                });
            }
        });
    </script>
</body>
</html>